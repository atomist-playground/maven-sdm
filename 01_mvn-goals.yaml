mvn\Ubuild:
  test:
  - has\Ufile: pom.xml

  goals:
  - containers:
    - name: mvn-version
      image: ${env.version\Ugoal\Uimage}
    output:
    - classifier: version
      pattern:
        glob\Upattern:
        - pom.xml
  - containers:
    - name: mvn-test
      image: maven:3-jdk-8-slim
      args:
      - mvn
      - package
      volume\Umounts:
      - name: repo
        mount\Upath: /root/.m2
    volumes:
    - name: repo
      host\Upath:
        path: /data/.m2
    input:
    - version
    output:
    - classifier: cache
      pattern:
        directory: target
  

